# 重定向绘图窗口所在地址

可以使用 `SetWorkingImage()` 函数将绘图操作重定向到内存中的 `IMAGE` 对象来实现这个需求。

# SetWorkingImage()

这个函数用于设定当前的绘图设备。

```cpp
void SetWorkingImage(IMAGE* pImg = NULL);
```

Copy

## 参数

### *pImg*

绘图设备指针。如果为 NULL，表示绘图设备为默认绘图窗口。

## 返回值

无

## 备注

如果需要对某个 IMAGE 做绘图操作，可以通过该函数将其设置为当前的绘图设备，之后所有的绘图语句都会绘制在该 IMAGE 上面。将参数置为 NULL 可恢复对默认绘图窗口的绘图操作。

## 示例

```cpp
#include <graphics.h>#include <conio.h>int main()
{
	// 初始化绘图窗口
	initgraph(640, 480);

	// 创建 200x200 的 img 对象
	IMAGE img(200, 200);
	
	// 设置绘图目标为 img 对象
	SetWorkingImage(&img);
	// 以下绘图操作都会绘制在 img 对象上面
	line(0, 100, 200, 100);
	line(100, 0, 100, 200);
	circle(100, 100, 50);

	// 设置绘图目标为绘图窗口
	SetWorkingImage();
	// 将 img 对象显示在绘图窗口中
	putimage(220, 140, &img);

	// 按任意键退出
	_getch();
	closegraph();
}
```